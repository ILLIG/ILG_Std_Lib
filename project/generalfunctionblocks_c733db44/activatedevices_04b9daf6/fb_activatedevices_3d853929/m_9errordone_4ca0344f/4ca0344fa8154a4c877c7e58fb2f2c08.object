{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)4ca0344f-a815-4a4c-877c-7e58fb2f2c08","ParentGuid":"(Guid)3d853929-dfea-49d3-9ccd-f0b5d5e9e6d3","Name":"(string)M_9ErrorDone","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)24568a24-c491-472c-a21f-ee5d33859fab","@Value":{"@Type":"24568a24","@Value":{"MemoryReserveForOnlineChange":"(int)0","ExcludeFromBuild":"(bool)False","External":"(bool)False","EnableSystemCall":"(bool)False","CompilerDefines":"(string)","LinkAlways":"(bool)False","Undefines":{"@Type":"[string]","@Value":[]}}}}]},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"24568a24":"{24568a24-c491-472c-a21f-ee5d33859fab}","2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","bool":"System.Boolean","Guid":"System.Guid","int":"System.Int32","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)CASE iState OF\n\t\n(* ################################################################################ *)\t\n\t// Reboot necessary?\n(* ################################################################################ *)\t\t\t\n\t900:\n\t\tIF OUT_bReboot AND IN_bRebootAuto THEN\n\t\t\tIMCCtrl.Admin._OpMode := IMC_MODE_CTRL_P0;\n\t\t\tIF IMCSTatus.Admin.ModeStatus_P0 AND NOT IMCSTatus.Admin.PhaseSwitchActive THEN\n\t\t\t\tfbCommand(\tExecute\t\t\t:= TRUE, \n\t\t\t\t\tParameterNumber\t:= GVL_C_Param_ID.FP_C_0_1021, \n\t\t\t\t\tAxis\t\t\t:= NoAxis);\n\t\t\tEND_IF\n\t\t\tMB_IMCInterface();\n\t\tELSE\n\t\t\tiState := 910;\t\t\n\t\tEND_IF\n\t\t\n(* ################################################################################ *)\t\n\t//Refresh FP_C_0_0479\n(* ################################################################################ *)\t\t\t\n\t910:\n\t\tfbCommand(\tExecute\t\t\t:= TRUE, \n\t\t\t\t\tParameterNumber\t:= GVL_C_Param_ID.FP_C_0_1009, \n\t\t\t\t\tAxis\t\t\t:= NoAxis);\n\t\t\n\t\tIF fbCommand.Done THEN\n\t\t\tfbCommand(\tExecute\t:= FALSE,\n\t\t\t\t\t\tAxis\t:= NoAxis);\n\t\t\tiState\t:= 990;\n\t\tELSIF fbCommand.Error THEN\n\t\t\tOUT_ErrorID\t\t:= fbCommand.ErrorID;\n\t\t\tOUT_ErrorIdent\t:= fbCommand.ErrorIdent;\n\t\t\tfbCommand(\tExecute:= FALSE,\n\t\t\t\t\t\tAxis:= NoAxis);\n\t\t\tiState \t\t:= 998;\n\t\tEND_IF\t\n\t\t\n(* ################################################################################ *)\t\n\t// Change sercos reaction back to desired value\n(* ################################################################################ *)\t\n//920:\n//\tIF UpdateFirmware THEN\n//\t\tIF (NOT SercosErrorReaction.F2_Error AND NOT SercosErrorReaction.F5_Error AND NOT SercosErrorReaction.F8_Error)\n//\t\t\tOR SercosErrorReaction.F8_Error THEN\n//\t\t\tdwC506.0 := FALSE;\t\t\n//\t\t\tdwC506.1 := FALSE;\n//\t\tELSIF SercosErrorReaction.F5_Error THEN\n//\t\t\tdwC506.0 := TRUE;\n//\t\t\tdwC506.1 := FALSE;\n//\t\tELSIF SercosErrorReaction.F2_Error THEN  \n//\t\t\tdwC506.0 := FALSE;\n//\t\t\tdwC506.1 := TRUE;\t\n//\t\tEND_IF\n//\t\t\n//\t\tdwC506.7 := SercosErrorReaction.NoRedundancyWarning;\n//\t\tdwC506.8 := SercosErrorReaction.AutoRingRecovery; \n//\t\t\n//\t\tfbWriteC506(\n//\t\t\tExecute:=TRUE , \n//\t\t\tDone=> , \n//\t\t\tActive=> , \n//\t\t\tError=> , \n//\t\t\tErrorID=> , \n//\t\t\tErrorIdent=> , \n//\t\t\tParameterNumber:= FP_C_0_0506, \n//\t\t\tValue:= \tdwC506, \n//\t\t\tAxis:= \tNoAxis);\n//\tEND_IF\n//\tIF fbWriteC506.Done OR NOT UpdateFirmware THEN\n//\t\tfbWriteC506(Execute:=FALSE, \n//\t\t\t\tAxis:= \tNoAxis);\t\n//\t\tiState \t:= 990;\t\t\n//\tELSIF fbWriteC506.Error THEN\n//\t\tErrorID \t:= fbWriteC506.ErrorID;\n//\t\tErrorIdent \t:= fbWriteC506.ErrorIdent;\n//\t\tfbWriteC506(Execute:=FALSE, \n//\t\t\t\t\tAxis:= \tNoAxis);\t\n//\t\tiState \t\t:= 998;\n//\tEND_IF\t\t\n\t\t\t\n(* ################################################################################ *)\t\n\t// Done\n(* ################################################################################ *)\t\n\t990: \t\t\t\n\t\tOUT_bDone := TRUE;\n\t\tOUT_bError := FALSE;\n\t\tOUT_bActive := FALSE;\n\t\tbErrorTemp := FALSE;\n\t\tOUT_sDiagMessage := '';\n\t\t\n\t\tIF NOT IN_bExecute THEN\n\t\t\tiState := 0;\n\t\tEND_IF\n\n(* ################################################################################ *)\t\n\t// Change sercos reaction back to desired value\n(* ################################################################################ *)\t\n998:\n\tiState \t:= 999;\t\t\n\n//\tIF UpdateFirmware THEN\n//\t\tIF (NOT SercosErrorReaction.F2_Error AND NOT SercosErrorReaction.F5_Error AND NOT SercosErrorReaction.F8_Error)\n//\t\t\tOR SercosErrorReaction.F8_Error THEN\n//\t\t\tdwC506.0 := FALSE;\t\t\n//\t\t\tdwC506.1 := FALSE;\n//\t\tELSIF SercosErrorReaction.F5_Error THEN\n//\t\t\tdwC506.0 := TRUE;\n//\t\t\tdwC506.1 := FALSE;\n//\t\tELSIF SercosErrorReaction.F2_Error THEN  \n//\t\t\tdwC506.0 := FALSE;\n//\t\t\tdwC506.1 := TRUE;\t\n//\t\tEND_IF\n//\t\t\n//\t\tdwC506.7 := SercosErrorReaction.NoRedundancyWarning;\n//\t\tdwC506.8 := SercosErrorReaction.AutoRingRecovery; \n//\t\n//\t\tfbWriteC506(\n//\t\t\tExecute:=TRUE , \n//\t\t\tDone=> , \n//\t\t\tActive=> , \n//\t\t\tError=> , \n//\t\t\tErrorID=> , \n//\t\t\tErrorIdent=> , \n//\t\t\tParameterNumber:= FP_C_0_0506, \n//\t\t\tValue:= \tdwC506, \n//\t\t\tAxis:= \tNoAxis);\n//\tEND_IF\n//\t\n//\tIF fbWriteC506.Done OR fbWriteC506.Error\n//\tOR NOT UpdateFirmware THEN\n//\t\tfbWriteC506(Execute:=FALSE, \n//\t\t\t\tAxis:= \tNoAxis);\t\n//\t\tiState \t:= 999;\t\t\n//\tEND_IF\t\t\n\t\t\t\t\t\t\t\n\t\t\n(* ################################################################################ *)\t\n\t// Error\n(* ################################################################################ *)\t\n\t999: \t\t\t\n\t\tIF sDiagMessageInt = '' THEN\n\t\t\tOUT_sDiagMessage := 'Internal FB Error. Check ErrorID and ErrorIdent'; \t\n\t\tELSIF OUT_bActive THEN\t\t// only first cycle \n\t\t\tOUT_sDiagMessage := sDiagMessageInt;\n\t\tEND_IF\t\n\t\t\n\t\tOUT_bDone := FALSE;\n\t\tOUT_bError := TRUE;\n\t\tbErrorTemp := FALSE;\n\t\tOUT_bActive := FALSE;\n\t\n\t\tIF NOT IN_bExecute THEN\n\t\t\tiState := 0;\n\t\tEND_IF\n\t\t\nEND_CASE\n\n","LineInfoPersistence":"(string)4ca0344f-a815-4a4c-877c-7e58fb2f2c08_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD M_9ErrorDone : BOOL\n","LineInfoPersistence":"(string)4ca0344f-a815-4a4c-877c-7e58fb2f2c08_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}