{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)bc7fe2bf-c0c2-461b-a74f-55f82a14d7dd","ParentGuid":"(Guid)3d853929-dfea-49d3-9ccd-f0b5d5e9e6d3","Name":"(string)M_5ConfigProfinetIO","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)24568a24-c491-472c-a21f-ee5d33859fab","@Value":{"@Type":"24568a24","@Value":{"MemoryReserveForOnlineChange":"(int)0","ExcludeFromBuild":"(bool)False","External":"(bool)False","EnableSystemCall":"(bool)False","CompilerDefines":"(string)","LinkAlways":"(bool)False","Undefines":{"@Type":"[string]","@Value":[]}}}}]},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"24568a24":"{24568a24-c491-472c-a21f-ee5d33859fab}","2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","bool":"System.Boolean","Guid":"System.Guid","int":"System.Int32","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)// Tip von Hr. Kohl: Schritt 550 umsetzen wie Schritt 350 und Fehlerhandling anschließend, wenn Schritt 350 tut.\n// Gucken in der Hilfe bei Index \"UserDefs.cfg, Profinet IO-Devices / Profinet IO-Module deaktivieren\"\n// Name: iv2-g500ca-g30f\n// \n\n\nCASE iState OF\t\t\n(* ################################################################################ *)\t\n\t// create String for UserDefs.cfg\n(* ################################################################################ *)\t\t\t\t\t\t\n\t500:\n\t\tIF IN_bConfigPNIO THEN\n\t\t\tiState := 510;\n\t\tELSE\n\t\t\tiState := 599;\n\t\tEND_IF\n\t\n\n\t510:\n\t\t(* Example:\n        ;**************************************************\n\t\t;---------- PROFINET IO ----------\n\t\t;**************************************************\n\t\t[PROFINETIO.Controller.0]\n\t\t\n\t\tDeviceDeactName = myDeviceName12\n\t\tDeviceName = myDeviceName14, DeactModule=2,3\n\t\t*)\n\n\t\t//\tHeader\n\n\t\tasStringCmdCfg[iLineCfg] := ';--------------- PROFINET IO --------------- ';\n\t\tiLineCfg := iLineCfg + 1;\t \t// next line\n\t\t\n\t\tFOR j := 1 TO iMAX_PN_MASTER DO\n\t\n\t\t\tIF (refastPNIOCmdConfig[j,1].sPNDeviceName <> '') THEN\t\t\t// at least one device is configured\n\t\t\t\tasStringCmdCfg[iLineCfg] := '[PROFINETIO.Controller.';\n\t\t\t\tsTemp2 := INT_TO_STRING(j-1);\n\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\tsTemp2 := ']';\n\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\n\t\t\t\tiLineCfg := iLineCfg +1;\t \t// next line\n\t\t\n\t\t\t\tFOR i := 1 TO iMAX_PN_SLAVE DO\n\t\t\t\t\tIF refastPNIOCmdConfig[j,i].sPNDeviceName <> '' THEN \n\t\t\t\t\t\tIF refastPNIOCmdConfig[j,i].bActive THEN\n\t\t\t\t\t\t\t// deactivate only modules\n\t\t\t\t\t\t\t//arStringCmdCfg[iLineCfg] := '; ';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tasStringCmdCfg[iLineCfg] := '';\n\t\t\t\t\t\t\tbWriteThisLine := FALSE;\n\t\t\t\t\t\t\tsTemp2 := 'DeviceName = ';\n\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\tsTemp2 := (refastPNIOCmdConfig[j,i].sPNDeviceName);\n\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\tsTemp2 :=  ', DeactModule = ';\n\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\tFOR k := 1 TO iMAX_MODULE_ON_PN_IO DO\n\t\t\t\t\t\t\t\tIF NOT refastPNIOCmdConfig[j,i].astIOModule[k].bActive AND refastPNIOCmdConfig[j,i].astIOModule[k].bConfigured  THEN\n\t\t\t\t\t\t\t\t\tIF bWriteThisLine THEN\n\t\t\t\t\t\t\t\t\t\tsTemp2 :=  ', ';\n\t\t\t\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\t\t\tEND_IF\t\n\t\t\t\t\t\t\t\t\tsTemp2 := INT_TO_STRING (k);\n\t\t\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tbWriteThisLine := TRUE;\n\t\t\t\t\t\t\t\tEND_IF\n\t\t\t\t\t\t\tEND_FOR\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tIF NOT bWriteThisLine THEN\n\t\t\t\t\t\t\t\tsTemp2 := \tasStringCmdCfg[iLineCfg];\n\t\t\t\t\t\t\t\tasStringCmdCfg[iLineCfg] := '; ';\n\t\t\t\t\t\t\t\t//strConcat(ADR (arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,ADR(strTemp));\n\t\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\tEND_IF\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tIF NOT (asStringCmdCfg[iLineCfg]= asStringActCfg[iLineCfg]) THEN\n\t\t\t\t\t\t\t\tOUT_bReboot := TRUE;\n\t\t\t\t\t\t\tEND_IF\n\t\t\t\t\t\t\tiLineCfg := iLineCfg +1; \t// next line\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tELSE\t\t\t\n\t\t\t\t\t\t\tasStringCmdCfg[iLineCfg] := '';\n\t\t\t\t\t\t\tsTemp2 := 'DeviceDeactName = ';\n\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\tsTemp2 := (refastPNIOCmdConfig[j,i].sPNDeviceName);\n\t\t\t\t\t\t\t//strConcat(ADR\t(arStringCmdCfg[iLineCfg]), SIZEOF(arStringCmdCfg[iLineCfg]) ,\tADR(strTemp));\n\t\t\t\t\t\t\tIL_CONCAT(ADR(asStringCmdCfg[iLineCfg]), ADR(sTemp2), ADR(asStringCmdCfg[iLineCfg]), SIZEOF(asStringCmdCfg[iLineCfg]));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tIF NOT (asStringCmdCfg[iLineCfg]= asStringActCfg[iLineCfg]) THEN\n\t\t\t\t\t\t\t\tOUT_bReboot := TRUE;\n\t\t\t\t\t\t\tEND_IF\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tiLineCfg := iLineCfg +1; \t// next line\n\t\t\t\t\t\tEND_IF\t\n\t\t\t\t\tELSIF refastPNIOCmdConfig[j,i].sPNDeviceName = '' THEN\n\t\t\t\t\t\t// End LOOP\n\t\t\t\t\t\ti := iMAX_PN_SLAVE + 1;\t\n\t\t\t\t\tEND_IF\t\n\t\t\t\t\t\n\t\t\t\tEND_FOR\n\t\t\t\t\n\t\t\t\tasStringCmdCfg[iLineCfg] := ';-------------------------------------------'\t;\n\t\t\t\tiLineCfg := iLineCfg +1;\t \t// next line\n\t\t\n\t\t\t\tasStringCmdCfg[iLineCfg] := ''\t;\n\t\t\t\tiLineCfg := iLineCfg +1;\t \t// next line\n\t\t\t\t\n\t\t\t\tiEOF := iLineCfg -1 ;\t\t\t//End Of File\n\t\t\tEND_IF\t\n\t\tEND_FOR\t\n\t\tiState := 599;\n\t\n(* ################################################################################ *)\t\n\t// End\n(* ################################################################################ *)\t\t\t\t\t\n\t599:\n\t\tiState := 800;\t\t\n\nEND_CASE","LineInfoPersistence":"(string)bc7fe2bf-c0c2-461b-a74f-55f82a14d7dd_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD M_5ConfigProfinetIO : BOOL\n","LineInfoPersistence":"(string)bc7fe2bf-c0c2-461b-a74f-55f82a14d7dd_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}